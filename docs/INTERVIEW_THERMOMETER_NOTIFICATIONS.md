# ğŸ“ ComunicaÃ§Ã£o para Entrevistas e Pesquisas - CECOR

**Data:** 21/02/2026  
**Escopo:** Entrevistas Socioeducacionais + Pesquisas de TermÃ´metro (SatisfaÃ§Ã£o/NPS)  
**Canais:** Email + Telegram + In-APP

---

## ğŸ“‹ VISÃƒO GERAL

### Dois Tipos de ComunicaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  ğŸ¤ ENTREVISTAS (ObrigatÃ³rias)                                 â”‚
â”‚  â”œâ”€â”€ Entrevista Socioeducacional (novo aluno)                  â”‚
â”‚  â”œâ”€â”€ Entrevista de Acompanhamento (periÃ³dica)                  â”‚
â”‚  â””â”€â”€ Entrevista de EvasÃ£o (quando abandona)                    â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š PESQUISAS DE TERMÃ”METRO (Opcionais)                        â”‚
â”‚  â”œâ”€â”€ SatisfaÃ§Ã£o com Curso (trimestral)                         â”‚
â”‚  â”œâ”€â”€ NPS Geral CECOR (semestral)                               â”‚
â”‚  â”œâ”€â”€ AvaliaÃ§Ã£o do Professor (final de curso)                   â”‚
â”‚  â””â”€â”€ Pesquisa RÃ¡pida (eventos especÃ­ficos)                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤ MÃ“DULO 1: ENTREVISTAS SOCIOEDUCACIONAIS

### 1.1 Fluxo de Entrevista (Novo Aluno)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO COMPLETO                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. MATRÃCULA                                                   â”‚
â”‚     â””â”€â”€ Aluno se matricula                                      â”‚
â”‚         â†“                                                       â”‚
â”‚  2. VERIFICAÃ‡ÃƒO AUTOMÃTICA                                      â”‚
â”‚     â””â”€â”€ Sistema verifica: Tem entrevista pendente?              â”‚
â”‚         â†“ SIM                                                   â”‚
â”‚  3. NOTIFICAÃ‡ÃƒO ADMIN                                           â”‚
â”‚     â””â”€â”€ "Novo aluno aguardando entrevista"                      â”‚
â”‚         â†“                                                       â”‚
â”‚  4. AGENDAMENTO                                                 â”‚
â”‚     â””â”€â”€ Admin agenda entrevista                                 â”‚
â”‚         â†“                                                       â”‚
â”‚  5. NOTIFICAÃ‡ÃƒO ALUNO                                           â”‚
â”‚     â””â”€â”€ "Sua entrevista estÃ¡ agendada"                          â”‚
â”‚         â†“                                                       â”‚
â”‚  6. REALIZAÃ‡ÃƒO                                                  â”‚
â”‚     â””â”€â”€ Admin aplica entrevista                                 â”‚
â”‚         â†“                                                       â”‚
â”‚  7. CONCLUSÃƒO                                                   â”‚
â”‚     â””â”€â”€ Sistema libera matrÃ­cula                                â”‚
â”‚         â†“                                                       â”‚
â”‚  8. CONFIRMAÃ‡ÃƒO                                                 â”‚
â”‚     â””â”€â”€ Aluno recebe "MatrÃ­cula ativa"                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Gatilhos de ComunicaÃ§Ã£o - Entrevistas

| Gatilho | Quem Notifica | Prioridade | Email | Telegram | In-APP | ForÃ§ar? |
|---------|---------------|------------|-------|----------|--------|---------|
| **Nova matrÃ­cula â†’ entrevista pendente** | Admin/Coordenador | ğŸŸ¡ | âœ… | âœ… | âœ… | âœ… Dashboard |
| **Entrevista agendada** | Aluno | ğŸ”´ | âœ… | âœ… | âœ… | âœ… Modal |
| **Lembrete 24h antes** | Aluno | ğŸŸ¡ | âœ… | âœ… | âŒ | âŒ |
| **Entrevista concluÃ­da** | Aluno | ğŸŸ¢ | âœ… | âœ… | âœ… | âŒ |
| **MatrÃ­cula liberada** | Aluno | ğŸŸ¡ | âœ… | âœ… | âœ… | âœ… Tela sucesso |
| **Entrevista NÃƒO realizada (atraso)** | Admin | ğŸ”´ | âœ… | âœ… | âœ… | âœ… Alerta |
| **Resumo semanal (entrevistas pendentes)** | Admin | âšª | âœ… | âŒ | âŒ | âŒ |

### 1.3 CenÃ¡rios Detalhados

#### CENÃRIO A: Novo Aluno - Aguardando Entrevista

```
â”Œâ”€ NOTIFICAÃ‡ÃƒO PARA COORDENADOR â”€â”
â”‚                                 â”‚
â”‚  ğŸ”” NOVO ALUNO AGUARDANDO       â”‚
â”‚     ENTREVISTA                  â”‚
â”‚                                 â”‚
â”‚  JoÃ£o Silva foi matriculado em  â”‚
â”‚  InglÃªs BÃ¡sico - Turma A        â”‚
â”‚                                 â”‚
â”‚  âš ï¸ ENTREVISTA SOCIOEDUCACIONAL â”‚
â”‚     PENDENTE                    â”‚
â”‚                                 â”‚
â”‚  ğŸ“… Agendar em atÃ© 48h          â”‚
â”‚                                 â”‚
â”‚  [ğŸ“… Agendar Entrevista]        â”‚
â”‚  [ğŸ‘¤ Ver Perfil do Aluno]       â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ DASHBOARD ADMIN (FORÃ‡ADO) â”€â”
â”‚                              â”‚
â”‚  âš ï¸ ENTREVISTAS PENDENTES   â”‚
â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ JoÃ£o Silva             â”‚ â”‚
â”‚  â”‚ Matriculado: 20/02     â”‚ â”‚
â”‚  â”‚ Status: Aguardando     â”‚ â”‚
â”‚  â”‚ Dias em espera: 2      â”‚ â”‚
â”‚  â”‚ [Agendar]              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Maria Santos           â”‚ â”‚
â”‚  â”‚ Matriculado: 19/02     â”‚ â”‚
â”‚  â”‚ Status: Aguardando     â”‚ â”‚
â”‚  â”‚ Dias em espera: 3      â”‚ â”‚
â”‚  â”‚ [Agendar]              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENÃRIO B: Entrevista Agendada - NotificaÃ§Ã£o Aluno

```
â”Œâ”€ IN-APP (FORÃ‡ADO - Modal) â”€â”
â”‚                             â”‚
â”‚  ğŸ“… ENTREVISTA AGENDADA     â”‚
â”‚                             â”‚
â”‚  OlÃ¡ JoÃ£o!                  â”‚
â”‚                             â”‚
â”‚  Sua entrevista socioedu-   â”‚
â”‚  cional foi agendada:       â”‚
â”‚                             â”‚
â”‚  ğŸ“† Data: 25/02/2026        â”‚
â”‚  ğŸ• HorÃ¡rio: 14:00          â”‚
â”‚  ğŸ“ Local: Sala de Atendimentoâ”‚
â”‚  ğŸ‘¤ Com: Ana (Assistente Social)â”‚
â”‚                             â”‚
â”‚  âš ï¸ IMPORTANTE:             â”‚
â”‚  â€¢ Trazer documento de ID   â”‚
â”‚  â€¢ Chegar 10min antes       â”‚
â”‚  â€¢ Entrevista obrigatÃ³ria   â”‚
â”‚    para ativaÃ§Ã£o da matrÃ­culaâ”‚
â”‚                             â”‚
â”‚  [âœ“ CONFIRMAR PRESENÃ‡A]     â”‚
â”‚  [ğŸ”„ Solicitar Reagendamento]â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TELEGRAM â”€â”
â”Œâ”€ EMAIL â”€â”
â”‚ ğŸ“… CECOR  â”‚  â”‚ Assunto:    â”‚
â”‚           â”‚  â”‚ Entrevista  â”‚
â”‚ Entrevistaâ”‚  â”‚ Agendada -  â”‚
â”‚ agendada! â”‚  â”‚ CECOR       â”‚
â”‚           â”‚  â”‚             â”‚
â”‚ JoÃ£o, sua â”‚  â”‚ OlÃ¡ JoÃ£o,   â”‚
â”‚ entrevistaâ”‚  â”‚             â”‚
â”‚ serÃ¡ dia  â”‚  â”‚ Sua entre-  â”‚
â”‚ 25/02 Ã s  â”‚  â”‚ vista foi   â”‚
â”‚ 14h.      â”‚  â”‚ agendada    â”‚
â”‚           â”‚  â”‚ para:       â”‚
â”‚ Local:    â”‚  â”‚             â”‚
â”‚ Sala Atendâ”‚  â”‚ ğŸ“† 25/02/2026â”‚
â”‚           â”‚  â”‚ ğŸ• 14:00    â”‚
â”‚ [Confirmarâ”‚  â”‚ ğŸ“ Sala de  â”‚
â”‚ presenÃ§a] â”‚  â”‚    Atendimentoâ”‚
â”‚           â”‚  â”‚             â”‚
â”‚           â”‚  â”‚ âš ï¸ ObrigatÃ³rioâ”‚
â”‚           â”‚  â”‚             â”‚
â”‚           â”‚  â”‚ [Confirmar] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENÃRIO C: Entrevista em Atraso (Alerta)

```
â”Œâ”€ ALERTA PARA COORDENADOR â”€â”
â”‚                            â”‚
â”‚  ğŸš¨ ENTREVISTA EM ATRASO  â”‚
â”‚                            â”‚
â”‚  JoÃ£o Silva               â”‚
â”‚  â€¢ Matriculado: 20/02     â”‚
â”‚  â€¢ Agendado: 25/02        â”‚
â”‚  â€¢ Status: NÃƒO COMPARECEU â”‚
â”‚                            â”‚
â”‚  âŒ MatrÃ­cula ainda       â”‚
â”‚     PENDENTE              â”‚
â”‚                            â”‚
â”‚  AÃ§Ãµes disponÃ­veis:       â”‚
â”‚  [ğŸ“ Contatar Aluno]      â”‚
â”‚  [ğŸ“… Reagendar]           â”‚
â”‚  [âš ï¸ Reportar EvasÃ£o]     â”‚
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.4 Modelo de Dados Estendido

```go
// backend/internal/models/interview.go (MongoDB)

// InterviewSchedule - Agendamento de entrevista
type InterviewSchedule struct {
    ID              primitive.ObjectID `json:"id" bson:"_id,omitempty"`
    StudentID       uint               `json:"studentId" bson:"studentId"`
    EnrollmentID    uint               `json:"enrollmentId" bson:"enrollmentId"`
    
    // Agendamento
    ScheduledDate   time.Time          `json:"scheduledDate" bson:"scheduledDate"`
    ScheduledTime   string             `json:"scheduledTime" bson:"scheduledTime"`
    Location        string             `json:"location" bson:"location"`
    
    // ResponsÃ¡veis
    InterviewerID   uint               `json:"interviewerId" bson:"interviewerId"` // Admin/Entrevistador
    InterviewerName string             `json:"interviewerName" bson:"interviewerName"`
    
    // Status
    Status          string             `json:"status" bson:"status"` // scheduled, completed, no_show, cancelled, rescheduled
    
    // NotificaÃ§Ãµes
    NotificationsSent []NotificationLog `json:"notificationsSent" bson:"notificationsSent"`
    
    // Resultado
    FormResponseID  primitive.ObjectID `json:"formResponseId,omitempty" bson:"formResponseId,omitempty"`
    Notes           string             `json:"notes" bson:"notes"`
    
    CreatedAt       time.Time          `json:"createdAt" bson:"createdAt"`
    UpdatedAt       time.Time          `json:"updatedAt" bson:"updatedAt"`
}

type NotificationLog struct {
    Type      string    `json:"type" bson:"type"` // email, telegram, inapp
    SentAt    time.Time `json:"sentAt" bson:"sentAt"`
    Status    string    `json:"status" bson:"status"` // sent, delivered, read
}
```

---

## ğŸ“Š MÃ“DULO 2: PESQUISAS DE TERMÃ”METRO

### 2.1 Tipos de Pesquisa

| Pesquisa | FrequÃªncia | Quem Responde | Quando |
|----------|------------|---------------|--------|
| **SatisfaÃ§Ã£o com Curso** | Trimestral | Alunos matriculados | Durante curso |
| **NPS Geral CECOR** | Semestral | Todos (alunos, professores, pais) | Jun/Dez |
| **AvaliaÃ§Ã£o de Professor** | Final do curso | Alunos da turma | Ãšltima aula |
| **Pesquisa de EvasÃ£o** | Quando cancela | Ex-aluno | ApÃ³s cancelamento |
| **Pesquisa RÃ¡pida (Evento)** | Eventos especÃ­ficos | Participantes | ApÃ³s evento |

### 2.2 Gatilhos de ComunicaÃ§Ã£o - Pesquisas

| Gatilho | Quem Notifica | Prioridade | Email | Telegram | In-APP | ForÃ§ar? |
|---------|---------------|------------|-------|----------|--------|---------|
| **Pesquisa disponÃ­vel** | Aluno/Professor | ğŸŸ¡ | âœ… | âœ… | âœ… | âœ… Banner |
| **Lembrete pesquisa (metade prazo)** | Aluno | ğŸŸ¡ | âœ… | âœ… | âŒ | âŒ |
| **Lembrete pesquisa (24h antes fechar)** | Aluno | ğŸŸ¡ | âœ… | âœ… | âœ… | âœ… Modal |
| **Pesquisa respondida** | Aluno | ğŸŸ¢ | âŒ | âœ… | âœ… | âŒ |
| **Resultados consolidados** | Admin/Coordenador | âšª | âœ… | âŒ | âŒ | âŒ |
| **Alerta baixa adesÃ£o (< 50%)** | Admin | ğŸŸ¡ | âŒ | âŒ | âœ… | âœ… Dashboard |

### 2.3 CenÃ¡rios Detalhados

#### CENÃRIO D: Pesquisa de SatisfaÃ§Ã£o Trimestral

```
â”Œâ”€ IN-APP (Banner Persistente) â”€â”
â”‚                                â”‚
â”‚  ğŸ“Š SUA OPINIÃƒO Ã‰ IMPORTANTE  â”‚
â”‚                                â”‚
â”‚  Ajude-nos a melhorar!        â”‚
â”‚                                â”‚
â”‚  Pesquisa de SatisfaÃ§Ã£o       â”‚
â”‚  InglÃªs BÃ¡sico - Turma A      â”‚
â”‚                                â”‚
â”‚  â° DisponÃ­vel atÃ©: 30/03     â”‚
â”‚  â±ï¸ Tempo: 3 minutos          â”‚
â”‚                                â”‚
â”‚  [RESPONDER AGORA]  [âœ• Depois]â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TELEGRAM â”€â”
â”‚ ğŸ“Š CECOR   â”‚
â”‚            â”‚
â”‚ Pesquisa deâ”‚
â”‚ SatisfaÃ§Ã£o â”‚
â”‚ disponÃ­vel!â”‚
â”‚            â”‚
â”‚ Curso:     â”‚
â”‚ InglÃªs     â”‚
â”‚ BÃ¡sico     â”‚
â”‚            â”‚
â”‚ Responda e â”‚
â”‚ ajude a    â”‚
â”‚ melhorar   â”‚
â”‚ nosso      â”‚
â”‚ atendimentoâ”‚
â”‚            â”‚
â”‚ [Responder]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENÃRIO E: Lembrete Urgente (24h antes de fechar)

```
â”Œâ”€ IN-APP (Modal) â”€â”
â”‚                   â”‚
â”‚  â° ÃšLTIMO DIA!   â”‚
â”‚                   â”‚
â”‚  A pesquisa de    â”‚
â”‚  satisfaÃ§Ã£o       â”‚
â”‚  fecha amanhÃ£!    â”‚
â”‚                   â”‚
â”‚  Sua opiniÃ£o Ã©    â”‚
â”‚  muito importante â”‚
â”‚  para nÃ³s.        â”‚
â”‚                   â”‚
â”‚  [RESPONDER]      â”‚
â”‚  [Lembrar Depois] â”‚
â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENÃRIO F: AvaliaÃ§Ã£o de Professor (Final de Curso)

```
â”Œâ”€ IN-APP (FORÃ‡ADO - Tela Cheia) â”€â”
â”‚                                  â”‚
â”‚  ğŸ“ AVALIAÃ‡ÃƒO DO CURSO           â”‚
â”‚                                  â”‚
â”‚  ParabÃ©ns! VocÃª concluiu o      â”‚
â”‚  curso InglÃªs BÃ¡sico!           â”‚
â”‚                                  â”‚
â”‚  Antes de receber seu           â”‚
â”‚  certificado, precisamos da     â”‚
â”‚  sua avaliaÃ§Ã£o sobre:           â”‚
â”‚                                  â”‚
â”‚  âœ… ConteÃºdo do curso           â”‚
â”‚  âœ… Metodologia do professor    â”‚
â”‚  âœ… Estrutura fÃ­sica            â”‚
â”‚  âœ… OrganizaÃ§Ã£o geral           â”‚
â”‚                                  â”‚
â”‚  â±ï¸ DuraÃ§Ã£o: 5 minutos          â”‚
â”‚                                  â”‚
â”‚  [INICIAR AVALIAÃ‡ÃƒO]            â”‚
â”‚                                  â”‚
â”‚  âš ï¸ Esta avaliaÃ§Ã£o Ã©            â”‚
â”‚     obrigatÃ³ria para emissÃ£o    â”‚
â”‚     do certificado              â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENÃRIO G: Alerta para Admin (Baixa AdesÃ£o)

```
â”Œâ”€ DASHBOARD COORDENADOR â”€â”
â”‚                          â”‚
â”‚  âš ï¸ BAIXA ADESÃƒO        â”‚
â”‚  PESQUISA DE SATISFAÃ‡ÃƒO â”‚
â”‚                          â”‚
â”‚  Curso: InglÃªs BÃ¡sico   â”‚
â”‚  Turma: 2026A           â”‚
â”‚                          â”‚
â”‚  Respondido: 8/20 (40%) â”‚
â”‚  Meta: 80%              â”‚
â”‚                          â”‚
â”‚  Alunos pendentes:      â”‚
â”‚  â€¢ JoÃ£o Silva           â”‚
â”‚  â€¢ Maria Santos         â”‚
â”‚  â€¢ Carlos Pereira       â”‚
â”‚  â€¢ ... (mais 9)         â”‚
â”‚                          â”‚
â”‚  [ğŸ“§ Enviar Lembrete]   â”‚
â”‚  [ğŸ“ Contatar Individual]â”‚
â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.4 Modelo de Dados - Pesquisas

```go
// backend/internal/models/survey.go (MongoDB)

// SurveyDefinition - DefiniÃ§Ã£o da pesquisa
type SurveyDefinition struct {
    ID              primitive.ObjectID `json:"id" bson:"_id,omitempty"`
    Title           string             `json:"title" bson:"title"`
    Description     string             `json:"description" bson:"description"`
    Type            string             `json:"type" bson:"type"` // course_satisfaction, nps, teacher_eval, exit_survey
    
    // ConfiguraÃ§Ã£o
    Questions       []SurveyQuestion   `json:"questions" bson:"questions"`
    TargetAudience  string             `json:"targetAudience" bson:"targetAudience"` // students, teachers, parents, all
    
    // PerÃ­odo
    StartDate       time.Time          `json:"startDate" bson:"startDate"`
    EndDate         time.Time          `json:"endDate" bson:"endDate"`
    
    // Regras
    IsRequired      bool               `json:"isRequired" bson:"isRequired"` // ObrigatÃ³ria para certificado?
    MinResponseTime int                `json:"minResponseTime" bson:"minResponseTime"` // Segundos mÃ­nimos
    
    // NotificaÃ§Ãµes
    NotificationConfig SurveyNotificationConfig `json:"notificationConfig" bson:"notificationConfig"`
    
    // Filtros
    TargetCourses   []uint             `json:"targetCourses,omitempty" bson:"targetCourses,omitempty"`
    TargetClasses   []uint             `json:"targetClasses,omitempty" bson:"targetClasses,omitempty"`
    
    IsActive        bool               `json:"isActive" bson:"isActive"`
    CreatedByID     uint               `json:"createdById" bson:"createdById"`
    CreatedAt       time.Time          `json:"createdAt" bson:"createdAt"`
    UpdatedAt       time.Time          `json:"updatedAt" bson:"updatedAt"`
}

type SurveyQuestion struct {
    ID       string                 `json:"id" bson:"id"`
    Type     string                 `json:"type" bson:"type"` // single_choice, multiple_choice, text, rating, nps
    Question string                 `json:"question" bson:"question"`
    Required bool                   `json:"required" bson:"required"`
    Options  []string               `json:"options,omitempty" bson:"options,omitempty"`
    Config   map[string]interface{} `json:"config,omitempty" bson:"config,omitempty"`
}

type SurveyNotificationConfig struct {
    InitialNotification   bool `json:"initialNotification" bson:"initialNotification"`     // Dia 1
    Reminder48h           bool `json:"reminder48h" bson:"reminder48h"`                     // Meio do prazo
    Reminder24h           bool `json:"reminder24h" bson:"reminder24h"`                     // 24h antes
    Channels              []string `json:"channels" bson:"channels"`                         // email, telegram, inapp
}

// SurveyResponse - Resposta do usuÃ¡rio
type SurveyResponse struct {
    ID          primitive.ObjectID     `json:"id" bson:"_id,omitempty"`
    SurveyID    primitive.ObjectID     `json:"surveyId" bson:"surveyId"`
    UserID      uint                   `json:"userId" bson:"userId"`
    UserType    string                 `json:"userType" bson:"userType"` // student, teacher, parent
    
    // Contexto
    CourseID    *uint                  `json:"courseId,omitempty" bson:"courseId,omitempty"`
    ClassID     *uint                  `json:"classId,omitempty" bson:"classId,omitempty"`
    TeacherID   *uint                  `json:"teacherId,omitempty" bson:"teacherId,omitempty"`
    
    // Respostas
    Answers     map[string]interface{} `json:"answers" bson:"answers"`
    
    // Metadados
    StartedAt   time.Time              `json:"startedAt" bson:"startedAt"`
    CompletedAt time.Time              `json:"completedAt" bson:"completedAt"`
    IPAddress   string                 `json:"ipAddress" bson:"ipAddress"`
    UserAgent   string                 `json:"userAgent" bson:"userAgent"`
    
    CreatedAt   time.Time              `json:"createdAt" bson:"createdAt"`
}
```

---

## ğŸ”„ MÃ“DULO 3: FLUXOS INTEGRADOS

### 3.1 Fluxo: Novo Aluno â†’ Entrevista â†’ Pesquisa

```
DIA 0: MatrÃ­cula
â”œâ”€â”€ Sistema verifica: precisa de entrevista?
â”œâ”€â”€ SIM â†’ Notifica Admin (ğŸŸ¡)
â””â”€â”€ MatrÃ­cula status: "pending_interview"

DIA 1: Agendamento
â”œâ”€â”€ Admin agenda entrevista
â”œâ”€â”€ Sistema notifica Aluno (ğŸ”´ Modal + Email + Telegram)
â””â”€â”€ Aluno confirma presenÃ§a

DIA 7: Entrevista Realizada
â”œâ”€â”€ Admin aplica entrevista
â”œâ”€â”€ Sistema: entrevista = completed
â”œâ”€â”€ MatrÃ­cula status: "active"
â””â”€â”€ Sistema notifica Aluno (ğŸŸ¢ "MatrÃ­cula ativa!")

DIA 30: Pesquisa SatisfaÃ§Ã£o (1Âº mÃªs)
â”œâ”€â”€ Pesquisa automÃ¡tica liberada
â”œâ”€â”€ NotificaÃ§Ã£o Aluno (ğŸŸ¡ Banner)
â”œâ”€â”€ Aluno responde
â””â”€â”€ Agradecimento (ğŸŸ¢ Telegram)

DIA 90: Pesquisa SatisfaÃ§Ã£o (3Âº mÃªs)
â””â”€â”€ Mesmo fluxo

DIA 180: Final do Curso
â”œâ”€â”€ AvaliaÃ§Ã£o Professor (ğŸ”´ ObrigatÃ³ria!)
â”œâ”€â”€ Aluno responde
â”œâ”€â”€ Certificado liberado
â””â”€â”€ Sistema notifica: "Certificado disponÃ­vel!" (ğŸŸ¡)
```

### 3.2 Fluxo: EvasÃ£o â†’ Pesquisa de SaÃ­da

```
Evento: Aluno cancela matrÃ­cula
â”‚
â”œâ”€â–º Sistema detecta: primeiro cancelamento
â”œâ”€â–º Pesquisa de EvasÃ£o liberada automaticamente
â”œâ”€â–º NotificaÃ§Ã£o Aluno (ğŸŸ¡)
â”‚   "Por que vocÃª estÃ¡ saindo? Ajude-nos a melhorar"
â”‚
â””â”€â–º ApÃ³s 7 dias sem resposta:
    â””â”€â”€ Lembrete (ğŸŸ¡ Email + Telegram)
    "Sua opiniÃ£o Ã© importante para melhorarmos"
```

---

## ğŸ“± MÃ“DULO 4: IMPLEMENTAÃ‡ÃƒO TÃ‰CNICA

### 4.1 ServiÃ§o de NotificaÃ§Ã£o (Eventos)

```go
// backend/internal/service/notifications/interview_events.go

package notifications

// InterviewScheduledEvent - Entrevista agendada
func (s *service) OnInterviewScheduled(schedule models.InterviewSchedule) {
    // 1. Notificar aluno (URGENTE)
    s.SendNotification(SendRequest{
        UserIDs:     []uint{schedule.StudentID},
        EventType:   "interview_scheduled",
        Title:       "ğŸ“… Entrevista Agendada",
        Message:     fmt.Sprintf("Sua entrevista foi agendada para %s Ã s %s", 
                     schedule.ScheduledDate.Format("02/01"), schedule.ScheduledTime),
        Priority:    "high",
        ForceInApp:  true,
        ActionURL:   fmt.Sprintf("/interviews/schedule/%s", schedule.ID.Hex()),
    })
    
    // 2. Notificar entrevistador
    s.SendNotification(SendRequest{
        UserIDs:     []uint{schedule.InterviewerID},
        EventType:   "interview_assigned",
        Title:       "ğŸ¤ Entrevista AtribuÃ­da",
        Message:     fmt.Sprintf("VocÃª tem uma entrevista agendada com %s", 
                     getStudentName(schedule.StudentID)),
        Priority:    "medium",
        ForceInApp:  false,
    })
}

// SurveyAvailableEvent - Pesquisa disponÃ­vel
func (s *service) OnSurveyAvailable(survey models.SurveyDefinition, userIDs []uint) {
    s.SendNotification(SendRequest{
        UserIDs:     userIDs,
        EventType:   "survey_available",
        Title:       "ğŸ“Š Pesquisa DisponÃ­vel",
        Message:     survey.Description,
        Priority:    "medium",
        ForceInApp:  true, // Banner persistente
        ActionURL:   fmt.Sprintf("/surveys/%s", survey.ID.Hex()),
        Data: map[string]interface{}{
            "surveyId":  survey.ID.Hex(),
            "endDate":   survey.EndDate,
            "isRequired": survey.IsRequired,
        },
    })
}

// SurveyReminderEvent - Lembrete de pesquisa
func (s *service) OnSurveyReminder(survey models.SurveyDefinition, userIDs []uint) {
    s.SendNotification(SendRequest{
        UserIDs:     userIDs,
        EventType:   "survey_reminder",
        Title:       "â° Lembrete: Pesquisa",
        Message:     fmt.Sprintf("A pesquisa '%s' fecha em 24h. Sua opiniÃ£o Ã© importante!", survey.Title),
        Priority:    "high",
        ForceInApp:  true, // Modal
        ActionURL:   fmt.Sprintf("/surveys/%s", survey.ID.Hex()),
    })
}
```

### 4.2 Job Agendado (Lembretes AutomÃ¡ticos)

```go
// backend/internal/jobs/notification_jobs.go

package jobs

// CheckPendingInterviews - Verifica entrevistas pendentes
func CheckPendingInterviews(db *mongo.Database, notifyService notifications.Service) {
    // Todo dia Ã s 9h
    
    // 1. Entrevistas agendadas para amanhÃ£ â†’ Lembrete
    tomorrow := time.Now().Add(24 * time.Hour)
    filter := bson.M{
        "scheduledDate": bson.M{"$gte": tomorrow, "$lt": tomorrow.Add(24 * time.Hour)},
        "status": "scheduled",
    }
    
    var schedules []models.InterviewSchedule
    db.Collection("interview_schedules").Find(context.Background(), filter).All(&schedules)
    
    for _, s := range schedules {
        notifyService.SendNotification(notifications.SendRequest{
            UserIDs:    []uint{s.StudentID},
            EventType:  "interview_reminder",
            Title:      "â° Lembrete: Entrevista AmanhÃ£",
            Message:    fmt.Sprintf("NÃ£o esqueÃ§a: sua entrevista Ã© amanhÃ£ Ã s %s", s.ScheduledTime),
            Priority:   "medium",
            ForceInApp: false,
        })
    }
    
    // 2. Pesquisas fechando em 24h â†’ Lembrete urgente
    surveysClosing := getSurveysClosingSoon(db, 24*time.Hour)
    for _, survey := range surveysClosing {
        pendingUsers := getPendingUsers(db, survey.ID)
        notifyService.OnSurveyReminder(survey, pendingUsers)
    }
}
```

---

## âœ… CHECKLIST DE IMPLEMENTAÃ‡ÃƒO

### Fase 1: Entrevistas (2 dias)
- [ ] Model InterviewSchedule (MongoDB)
- [ ] Endpoint: Agendar entrevista
- [ ] NotificaÃ§Ã£o: Nova entrevista pendente (Admin)
- [ ] NotificaÃ§Ã£o: Entrevista agendada (Aluno)
- [ ] Job: Lembrete 24h antes
- [ ] Tela: Agendamento (Admin)
- [ ] Tela: ConfirmaÃ§Ã£o (Aluno)

### Fase 2: Pesquisas (3 dias)
- [ ] Model SurveyDefinition (MongoDB)
- [ ] CRUD: Criar pesquisa (Admin)
- [ ] NotificaÃ§Ã£o: Pesquisa disponÃ­vel
- [ ] NotificaÃ§Ã£o: Lembrete pesquisa
- [ ] Job: Verificar pesquisas fechando
- [ ] Tela: Responder pesquisa (Aluno/Professor)
- [ ] Dashboard: Resultados consolidados

### Fase 3: IntegraÃ§Ã£o (1 dia)
- [ ] Conectar com sistema de notificaÃ§Ãµes existente
- [ ] Testar fluxo completo
- [ ] Configurar preferÃªncias de notificaÃ§Ã£o

---

## ğŸ“Š RESUMO DOS GATILHOS

| Categoria | Total de Gatilhos | ForÃ§am In-APP |
|-----------|-------------------|---------------|
| **Entrevistas** | 7 | 4 (57%) |
| **Pesquisas** | 6 | 3 (50%) |
| **Total** | **13** | **7 (54%)** |

---

## ğŸ’¡ RECOMENDAÃ‡Ã•ES

### 1. NÃ£o Saturar o UsuÃ¡rio
```
REGRA DE OURO:
â”œâ”€â”€ MÃ¡ximo 1 pesquisa por mÃªs por aluno
â”œâ”€â”€ Entrevista sÃ³ no inÃ­cio (ou anual)
â””â”€â”€ Pesquisa de evasÃ£o sÃ³ se cancelar
```

### 2. Incentivar Resposta
```
ESTRATÃ‰GIAS:
â”œâ”€â”€ Mostrar: "X de Y alunos jÃ¡ responderam"
â”œâ”€â”€ Certificado sÃ³ libera apÃ³s avaliaÃ§Ã£o
â””â”€â”€ Agradecimento pÃºblico (opcional)
```

### 3. Respeitar Privacidade
```
LGPD:
â”œâ”€â”€ Pesquisas anÃ´nimas por padrÃ£o
â”œâ”€â”€ OpÃ§Ã£o "NÃ£o quero receber pesquisas"
â””â”€â”€ Dados agregados apenas
```

---

**Documento criado em:** 21/02/2026  
**PrÃ³xima aÃ§Ã£o:** Implementar InterviewSchedule e SurveyDefinition
